<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="YourBusinessInItaly">
    <meta name="theme-color" content="#2563eb">
    <title>Commercialista per Stranieri in Italia | Apertura Società e Partita IVA</title>

    <!-- DNS prefetch per domini esterni -->
    <link rel="dns-prefetch" href="//images.unsplash.com">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    
    <!-- Preconnect per fonts con priorità alta -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Preload hero image ottimizzato per mobile -->
    <link rel="preload" as="image" href="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=480&h=320&fit=crop&crop=center&auto=format&q=85&fm=webp" fetchpriority="high" media="(max-width: 480px)">
    <link rel="preload" as="image" href="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=768&h=512&fit=crop&crop=center&auto=format&q=85&fm=webp" fetchpriority="high" media="(min-width: 481px) and (max-width: 768px)">
    <link rel="preload" as="image" href="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=1920&h=1080&fit=crop&crop=center&auto=format&q=85&fm=webp" fetchpriority="high" media="(min-width: 769px)">
    
    <!-- CSS critico inline per FCP ottimizzato -->
    <style>
      /* Reset e base critici */
      *,*::before,*::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}
      html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif}
      body{margin:0;line-height:inherit;font-family:Inter,sans-serif;background-color:#ffffff}
      
      /* Hero section critico */
      .hero-section{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden}
      .hero-overlay{position:absolute;inset:0;background:linear-gradient(135deg,rgba(0,146,70,0.8),rgba(206,43,55,0.8));z-index:1}
      .hero-content{position:relative;z-index:2;text-align:center;color:white;padding:2rem}
      .hero-title{font-size:3rem;font-weight:700;margin-bottom:1rem;line-height:1.1}
      .hero-subtitle{font-size:1.25rem;margin-bottom:2rem;opacity:0.9}
      
      /* Mobile hero optimization */
      @media (max-width: 768px) {
        .hero-section{min-height:60vh}
        .hero-title{font-size:2rem}
        .hero-subtitle{font-size:1rem}
        .hero-content{padding:1rem}
      }
      @media (max-width: 480px) {
        .hero-section{min-height:50vh}
        .hero-title{font-size:1.75rem}
      }
      
      /* Loading states */
      .loading-placeholder{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:loading 1.5s infinite}
      @keyframes loading{0%{background-position:200% 0}100%{background-position:-200% 0}}
      
      /* Font display optimization */
      @font-face{font-family:'Inter';font-display:swap;src:url('https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hiA.woff2') format('woff2')}
    </style>

    <!-- Font ottimizzato per mobile con font-display: swap -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    >
    <noscript>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;500;600;700&display=swap">
    </noscript>

    <!-- Preload font critici per performance -->
    <link rel="preload" href="https://fonts.gstatic.com/s/montserrat/v25/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://fonts.gstatic.com/s/opensans/v34/memSYaGs126MiZpBA-UvWbX2vVnXBbObj2OVZyOOSr4dVJWUgsjZ0B4gaVc.woff2" as="font" type="font/woff2" crossorigin>

    <!-- Font Awesome con caricamento asincrono -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" media="print" onload="this.media='all'; this.onload=null;">
    <noscript><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"></noscript>

    <!-- Meta tag ottimizzati per mobile -->
    <meta name="description" content="Commercialista per stranieri in Italia. Apertura società e partita IVA. Consulenza fiscale in inglese. Preventivo gratuito in 24h.">
    <meta name="keywords" content="commercialista stranieri, aprire società Italia, partita IVA stranieri, regime forfettario, consulenza fiscale">
    <meta name="author" content="Giovanni Emmi - Dottore Commercialista">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://yourbusinessinitaly.com/">

    <!-- Open Graph per social sharing mobile -->
    <meta property="og:title" content="Commercialista per Stranieri in Italia | YourBusinessInItaly">
    <meta property="og:description" content="Apertura società e partita IVA per stranieri in Italia. Consulenza fiscale professionale.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourbusinessinitaly.com/">
    <meta property="og:image" content="https://yourbusinessinitaly.com/images/og-image.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Commercialista per Stranieri in Italia">
    <meta name="twitter:description" content="Apertura società e partita IVA per stranieri. Consulenza fiscale professionale.">

    <!-- Mobile-specific structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "YourBusinessInItaly",
      "url": "https://yourbusinessinitaly.com",
      "mobileUrl": "https://yourbusinessinitaly.com/mobile/",
      "telephone": "+39 123 456 7890",
      "priceRange": "$$",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "IT"
      },
      "hasMobileApplication": {
        "@type": "MobileApplication",
        "name": "YourBusinessInItaly",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "iOS, Android",
        "downloadUrl": "https://yourbusinessinitaly.com/app"
      },
      "openingHours": "Mo-Fr 09:00-18:00",
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+39 123 456 7890",
        "contactType": "customer service",
        "availableLanguage": ["Italian", "English"]
      },
      "serviceArea": {
        "@type": "Country",
        "name": "Italy"
      },
      "makesOffer": {
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Business Setup Services",
          "description": "Company registration and VAT number services for foreigners in Italy"
        }
      }
    }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <!-- Replit banner rimosso per migliorare performance mobile -->
    
    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then((registration) => {
              console.log('SW registered: ', registration);
              // Forza aggiornamento se disponibile
              if (registration.waiting) {
                registration.waiting.postMessage({ type: 'SKIP_WAITING' });
              }
            })
            .catch((registrationError) => {
              console.log('SW registration failed: ', registrationError);
            });
        });
      }
    </script>
  </body>
</html>
